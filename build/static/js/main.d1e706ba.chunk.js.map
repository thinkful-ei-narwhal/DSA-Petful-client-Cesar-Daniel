{"version":3,"sources":["components/HomePage/HomePage.js","contexts/UserContext.js","components/Cat/Cat.js","components/Dog/Dog.js","components/ValidationError/ValidationError.js","components/NameForm/NameForm.js","components/Countdown/countdown.js","components/AdoptPage/AdoptPage.js","components/ErrorPage/ErrorPage.js","config.js","services/apiService.js","queue/Queue.js","components/root/Root.js","index.js"],"names":["HomePage","to","Component","UserContext","React","createContext","Cat","this","context","waiting","cats","handleAdoptAnimal","handleAdopted","adopted","current","first","data","className","alt","src","imageURL","name","description","gender","age","breed","story","disabled","onClick","e","preventDefault","contextType","Dog","dogs","ValidationError","props","message","NameForm","setName","handleUpdatePeople","validateName","nameError","touched","htmlFor","type","id","value","onChange","target","countdown","interval","setInterval","peoplePush","clearInterval","people","all","AdoptPage","submitted","animalAdopted","ErrorPage","state","error","children","process","apiService","getPets","fetch","config","method","headers","then","res","ok","code","status","json","Promise","reject","deletePet","getPeople","postPerson","n","body","JSON","stringify","deletePerson","deleteCat","deleteDog","_Node","next","previous","Queue","last","node","display","push","join","Root","savedName","na","setState","pData","pQueue","enqueue","np","addPeople","handleWaiting","handleDeletePerson","show","dequeue","queue","Math","floor","random","animal","cData","cQueue","nc","dData","dQueue","nd","Provider","exact","path","component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.d1e706ba.chunk.js","sourcesContent":["import React, { Component, Fragment } from 'react';\nimport {Link} from 'react-router-dom';\n\nexport class HomePage extends Component {\n  render() {\n    return (\n      <Fragment>\n        <h1>Petful</h1>\n        <h2>Creating Happy Pet Families since 2020</h2>\n\n        {/* picture here*/}\n\n        <p>At Petful, we strive to make sure that the dogs and \n        cats in the most need are those adopted first!  Those\n        who have been with us the longest will be the first to\n        find happy families!  When you enter the adoption process,\n        you'll be placed in our family-friendly queue in order to wait\n        for your new furry friend!</p>\n\n        <h3>Adopt Here!</h3>\n        <Link to='/adopt'>Enter:</Link>\n      </Fragment>\n    )\n  }\n}\n\nexport default HomePage\n","import React from 'react';\n\nconst UserContext = React.createContext();\n\nexport default UserContext;","import React, { Component} from 'react';\nimport UserContext from '../../contexts/UserContext';\n\nexport class Cat extends Component {\n\n  static contextType = UserContext;\n\n  render() {\n\n    const {\n      waiting,\n      cats,\n      handleAdoptAnimal,\n      handleAdopted,\n      adopted\n    } = this.context;\n    const current = cats.first ? cats.first.data : {}\n\n    return (\n\n      \n      <div>\n        <h3>Cat</h3>\n        <img className='picture' alt=\"cute cat\" src={`${current.imageURL}`}/>\n        <p>Name: {`${current.name}`}</p>\n        <p>Description: {`${current.description}`}</p>\n        <p>Gender: {`${current.gender}`}</p>\n        <p>Age: {`${current.age}`}</p>\n        <p>Breed: {`${current.breed}`}</p>\n        <p>{`${current.name}`}'s Story: {`${current.story}`}</p>\n        <button\n        disabled={(waiting) || (adopted)}\n        onClick={(e) => {\n          e.preventDefault();\n          handleAdoptAnimal('cat');\n          handleAdopted();\n        }}\n        >Adopt Me!</button>\n      </div>\n    )\n  }\n}\n\nexport default Cat\n","import React, { Component} from 'react';\nimport UserContext from '../../contexts/UserContext';\n\nexport class Dog extends Component {\n\n  static contextType = UserContext;\n\n  render() {\n\n    const {\n      waiting,\n      dogs,\n      handleAdoptAnimal,\n      handleAdopted,\n      adopted\n    } = this.context;\n    const current = dogs.first ? dogs.first.data : {}\n\n    return (\n      <div>\n        <h3>Dog</h3>\n        <img className='picture' alt=\"cute dog\" src={`${current.imageURL}` }/>\n        <p>Name: {`${current.name}`}</p>\n        <p>Description: {`${current.description}`}</p>\n        <p>Gender: {`${current.gender}`}</p>\n        <p>Age: {`${current.age}`}</p>\n        <p>Breed: {`${current.breed}`}</p>\n        <p>{`${current.name}`}'s Story: {`${current.story}`}</p>\n        <button\n        disabled={(waiting) || (adopted)}\n        onClick={(e) => {\n          e.preventDefault();\n          handleAdoptAnimal('dog');\n          handleAdopted();\n        }}\n        >Adopt Me!</button>\n      </div>\n    )\n  }\n}\n\nexport default Dog\n","import React from 'react';\n\nexport default function ValidationError(props) {\n  if(props.message) {\n    return (\n      <div>\n        <span className = 'error red'>{props.message}</span>\n      </div>\n    );\n  }\n  return <>\n  </>\n}","import React, { Component } from 'react'\nimport ValidationError from '../ValidationError/ValidationError'\nimport UserContext from '../../contexts/UserContext';\n\nexport class NameForm extends Component {\n\n  static contextType = UserContext;\n\n  render() {\n    const {\n      name,\n      setName,\n      handleUpdatePeople,\n      validateName,\n    } = this.context;\n\n    const nameError = validateName();\n    return (\n      <form>\n        {name.touched && <ValidationError message={nameError} />}\n        <label htmlFor='name'>Name:</label>\n        <input type= 'text' name='name' id= 'name' value={name.value}\n        onChange={(e) => setName(e.target.value)}>\n        </input>\n    \n        <button type= 'submit' disabled={validateName()}\n        onClick={(e) => {\n          e.preventDefault();\n          handleUpdatePeople(name.value);\n          name.value='';\n          name.touched= false;\n        }}>\n          Submit\n        </button>\n      </form>\n    )\n  }\n}\n\nexport default NameForm\n","import React, { Component } from 'react'\nimport UserContext from '../../contexts/UserContext'\n\nexport class countdown extends Component {\n\n  static contextType = UserContext;\n\n  componentDidMount() {\n    this.interval = setInterval(this.context.peoplePush,5000);\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.interval);\n  }\n\n  render() {\n\n    const {\n     people\n    } = this.context;\n\n    return (\n      <div>\n        <p>Thanks For Choosing to Adopt Today!</p>\n        <p>Serving Next: {`${people.all()}`}</p>\n      </div>\n    )\n  }\n}\n\nexport default countdown\n","import React, { Component, Fragment } from 'react';\nimport Cat from '../Cat/Cat';\nimport Dog from '../Dog/Dog';\nimport NameForm from '../NameForm/NameForm';\nimport Countdown from '../Countdown/countdown';\nimport UserContext from '../../contexts/UserContext';\n\nexport class AdoptPage extends Component {\n\n  static contextType = UserContext;\n\n  render() {\n    const {\n      waiting,\n      submitted,\n      adopted,\n      animalAdopted\n    } = this.context;\n\n    return (\n      <Fragment>\n        <h1>Petful - Adopt!</h1>\n        <h2>Creating Happy Pet Families since 2020</h2>\n        <p>Enter your name here and you'll be placed in a queue!\n        After that, you'll have to wait your turn before selecting\n        your next pet!</p>\n        <NameForm/>\n        { (submitted && waiting) || adopted? <Countdown/> : null}\n        {!waiting && !adopted ? <p>It's your turn!  You can now adopt!</p> : null}\n        {adopted ? <p>you adopted {animalAdopted}!</p> : null}\n        <div className=\"pet-container\">\n          <Cat/>\n          <Dog/>\n        </div>\n      </Fragment>\n    )\n  }\n}\n\nexport default AdoptPage\n","import React, { Component } from 'react';\nimport {Link} from 'react-router-dom';\n\nexport default class ErrorPage extends Component {\n  state = {error: null};\n\n  static getDerivedStateFormError(error) {\n    return (error)\n  }\n  render() {\n    if (this.state.error) {\n      return (\n        <main className=\"error-page\">\n          <h1>{this.state.error}</h1>\n          <h1>Something seems to have gone wrong!</h1>\n          <p>Try refreshing the page or returning to HOME</p>\n          <Link to='/'><i className=\"fas fa-home\"></i> Home</Link>\n        </main>\n      )\n    }\n    //otherwise render the children\n    return this.props.children\n  }\n}","export default {\n  API_ENDPOINT: process.env.REACT_APP_API_KEY\n};","import config from '../config';\n\nconst apiService = {\n  getPets(){\n    let error;\n    return fetch(`${config.API_ENDPOINT}/pets`, {\n      method: 'GET',\n      headers: {}\n      })\n      .then(res => {\n        if (!res.ok) {\n          error = { code: res.status};\n        }\n        return res.json();\n      })\n      .then(data => {\n        if (error) {\n          error.message = data.message;\n          return Promise.reject(error);\n        }\n        return data})\n  },\n\n  deletePet(type) {\n    let error;\n    return fetch(`${config.API_ENDPOINT}/pets/${type}`, {\n      method: 'DELETE',\n      headers: {\n      },\n      })\n      .then(res => {\n        if (!res.ok) {\n          error = { code: res.status};\n        }\n        return res.json();\n      })\n      .then(data => {\n        if (error) {\n          error.message = data.message;\n          return Promise.reject(error);\n        }\n        return data})\n  },\n\n  getPeople(){\n    let error;\n    return fetch(`${config.API_ENDPOINT}/people`, {\n      method: 'GET',\n      headers: {}\n      })\n      .then(res => {\n        if (!res.ok) {\n          error = { code: res.status};\n        }\n        return res.json();\n      })\n      .then(data => {\n        if (error) {\n          error.message = data.message;\n          return Promise.reject(error);\n        }\n        return data})\n  },\n\n  postPerson(n){\n    return fetch(`${config.API_ENDPOINT}/people`, {\n      method: 'POST',\n      headers: {\n        'content-type': 'application/json',\n      },\n      body: JSON.stringify({\n        name: n\n      })\n    })\n      .then(res =>\n        (!res.ok)\n          ? res.json().then(e => Promise.reject(e))\n          : res.json()\n      )\n  },\n\n  deletePerson() {\n    let error;\n    return fetch(`${config.API_ENDPOINT}/people`, {\n      method: 'DELETE',\n      headers: {\n      },\n      })\n      .then(data => {\n        if (error) {\n          error.message = data.message;\n          return Promise.reject(error);\n        }\n        return data})\n  },\n  deleteCat() {\n    let error;\n    return fetch(`${config.API_ENDPOINT}/pets/cat`, {\n      method: 'DELETE',\n      headers: {},\n      })\n      .then(data => {\n        if (error) {\n          error.message = data.message;\n          return Promise.reject(error);\n        }\n        return data})\n  },\n  deleteDog() {\n    let error;\n    return fetch(`${config.API_ENDPOINT}/pets/dog`, {\n      method: 'DELETE',\n      headers: {},\n      })\n      .then(data => {\n        if (error) {\n          error.message = data.message;\n          return Promise.reject(error);\n        }\n        return data})\n  },\n}\n\nexport default apiService;","class _Node {\n  constructor(data, next, previous) {\n    this.data = data;\n    this.next = next;\n    this.previous = previous;\n  }\n}\n\nexport default class Queue {\n  constructor() {\n    this.first = null;\n    this.last = null;\n  }\n\n  enqueue(data) {\n    const node = new _Node(data, null);\n\n    if (this.first === null) {\n      this.first = node;\n    }\n\n    if (this.last) {\n      this.last.next = node;\n    }\n\n    this.last = node;\n  }\n\n  dequeue() {\n    if (this.first === null) {\n      return;\n    }\n\n    const node = this.first;\n    this.first = this.first.next;\n\n    if (node === this.last) {\n      this.last = null;\n    }\n    return node.data;\n  }\n\n  show() {\n    return this.first;\n  }\n\n  all() {\n    let current = this.first;\n    let display = [];\n    while (current) {\n      display.push(current.data);\n      current = current.next;\n    }\n    return display.join(', ');\n  }\n}\n","import React, { Component, Fragment } from 'react';\nimport {Route, Switch, BrowserRouter} from 'react-router-dom';\nimport HomePage from '../HomePage/HomePage';\nimport AdoptPage from '../AdoptPage/AdoptPage';\nimport ErrorPage from '../ErrorPage/ErrorPage';\nimport UserContext from '../../contexts/UserContext';\nimport apiService from '../../services/apiService';\nimport Queue from '../../queue/Queue';\n\n\nexport class Root extends Component {\n\n  state = {\n    cats: new Queue(),\n    dogs: new Queue(),\n    people: new Queue(),\n    animalAdopted: '',\n    submitted: false,\n    waiting: true,\n    adopted:false,\n    savedName: '',\n    na: {value: '', touched: false}\n  }\n\n  componentDidMount() {\n    apiService.getPets()\n      .then(data => {\n        let cData = data.cats.first;\n        let cQueue = new Queue();\n        cQueue.enqueue(cData.data)\n        \n        let nc = cData.next;\n        while(nc) {\n          cQueue.enqueue(nc.data)\n          nc = nc.next\n        }\n        this.setState({cats: cQueue})\n\n\n        let dData = data.dogs.first;\n        let dQueue = new Queue();\n        dQueue.enqueue(dData.data)\n        \n        let nd = dData.next;\n        while(nd) {\n          dQueue.enqueue(nd.data)\n          nd = nd.next\n        }\n        this.setState({dogs: dQueue})\n      })\n    \n    apiService.getPeople()\n      .then(data => {\n        if (data.first){\n        let pData = data.first;\n        let pQueue = new Queue();\n        pQueue.enqueue(pData.data)\n        \n        let np = pData.next;\n        while(np) {\n          pQueue.enqueue(np.data)\n          np = np.next\n        }\n        this.setState({people: pQueue, na: {value: '', touched: false}})\n      } else {\n        let pQueue = new Queue()\n        this.setState({people: pQueue, na: {value: '', touched: false}})\n      }\n      })\n  }\n\n  setName = (n) => {\n    this.setState({ na: { value: n, touched: true } });\n  }\n\n  validateName = () => {\n    const n = this.state.na.value;\n    if (!n) {\n      return 'name is required';\n    } \n  }\n\n  \n\n  handleUpdatePeople = (n) => {\n    \n    apiService.postPerson(n)\n      .then(data => {\n        let pData = data.first;\n        let pQueue = new Queue();\n        pQueue.enqueue(pData.data)\n        \n        let np = pData.next;\n        while(np) {\n          pQueue.enqueue(np.data)\n          np = np.next\n        }\n        this.setState({people: pQueue})\n      });\n\n    this.setState({waiting: true, submitted: true, savedName: n});\n  }\n\n  addPeople = (n) => { \n    apiService.postPerson(n)\n      .then(data => {\n        let pData = data.first;\n        let pQueue = new Queue();\n        pQueue.enqueue(pData.data)\n        \n        let np = pData.next;\n        while(np) {\n          pQueue.enqueue(np.data)\n          np = np.next\n        }\n        this.setState({people: pQueue})\n      });\n  }\n\n\n  handleWaiting = () => {\n    this.setState({waiting: false})\n    this.setState({savedName: ''})\n  }\n\n  handleAdopted = () => {\n    this.setState({adopted: true})\n  }\n\n  peoplePush = () => {\n    const current = this.state.people.first.data;\n    if (current !== this.state.savedName) {\n      this.handleDeletePerson();\n    }\n    else {\n      this.handleWaiting();\n    }\n  }\n\n  handleDeletePerson = () => {\n    apiService.deletePerson()\n    let name= this.state.people.show()\n    name= name.data;\n    this.state.people.enqueue(this.state.people.dequeue());\n    const queue = this.state.people;\n    this.setState({people: queue})\n    let number=Math.floor(Math.random() * 2) + 1; \n    if(number===1){\n      apiService.deleteCat()\n      this.state.cats.enqueue(this.state.cats.dequeue());\n      const queue = this.state.cats;\n      this.setState({cats: queue})\n    }else{\n      apiService.deleteDog()\n      this.state.dogs.enqueue(this.state.dogs.dequeue());\n      const queue = this.state.dogs;\n      this.setState({dogs: queue})\n    }\n    if(name !==this.state.savedName){\n      this.addPeople(name);\n    }\n  }\n\n  handleAdoptAnimal = (animal) => {\n    if(animal==='cat'){\n      apiService.deleteCat()\n      let adopted=this.state.cats.show();\n      adopted=adopted.data.name;\n      this.setState({animalAdopted: adopted})\n      this.state.cats.dequeue();\n      const queue = this.state.cats;\n      this.setState({cats: queue})\n    }else{\n      apiService.deleteDog()\n      this.state.dogs.dequeue();\n      const queue = this.state.dogs;\n      this.setState({dogs: queue})\n    }\n  }\n\n\n\n  render() {\n    return (\n      <UserContext.Provider value = {{\n        cats: this.state.cats,\n        dogs: this.state.dogs,\n        people: this.state.people,\n        name: this.state.na,\n        submitted: this.state.submitted,\n        waiting: this.state.waiting,\n        savedName: this.state.savedName,\n        adopted: this.state.adopted,\n        animalAdopted: this.state.animalAdopted,\n        validateName: this.validateName,\n        setName: this.setName,\n        handleUpdatePeople: this.handleUpdatePeople,\n        peoplePush: this.peoplePush,\n        handleWaiting: this.handleWaiting,\n        handleAdoptAnimal: this.handleAdoptAnimal,\n        handleDeletePerson: this.handleDeletePerson,\n        handleAdopted: this.handleAdopted,\n        addPeople: this.addPeople\n      }}>\n        <Fragment>\n          <main>\n          <BrowserRouter>\n          <ErrorPage>\n            <Switch>\n              <Route\n                exact path = {'/'}\n                component = {HomePage}/>\n              <Route\n                exact path = {'/adopt'}\n                component = {AdoptPage}/>\n            </Switch>\n            </ErrorPage>\n          </BrowserRouter>\n          </main>\n        </Fragment>\n      </UserContext.Provider>\n    );\n  };\n};\n\nexport default Root\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport Root from '../src/components/root/Root';\n\nReactDOM.render(\n  <React.StrictMode>\n      <Root /> \n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}