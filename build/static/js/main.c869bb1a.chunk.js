(this["webpackJsonppetful-client"]=this["webpackJsonppetful-client"]||[]).push([[0],{21:function(e,t,a){e.exports=a(32)},26:function(e,t,a){},32:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(19),o=a.n(l),c=(a(26),a(2)),s=a(4),u=a(6),i=a(5),d=a(7),p=a(12),h=a(1),m=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(n.Fragment,null,r.a.createElement("h1",null,"Petful"),r.a.createElement("h2",null,"Creating Happy Pet Families since 2020"),r.a.createElement("p",null,"At Petful, we strive to make sure that the dogs and cats in the most need are those adopted first!  Those who have been with us the longest will be the first to find happy families!  When you enter the adoption process, you'll be placed in our family-friendly queue in order to wait for your new furry friend!"),r.a.createElement("h3",null,"Adopt Here!"),r.a.createElement(p.b,{to:"/adopt"},"Enter:"))}}]),t}(n.Component),f=r.a.createContext(),v=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.context,t=e.waiting,a=e.cats,n=e.handleAdoptAnimal,l=e.handleAdopted,o=e.adopted,c=a.first?a.first.data:{};return r.a.createElement("div",null,r.a.createElement("h3",null,"Cat"),r.a.createElement("img",{className:"picture",alt:"cute cat",src:"".concat(c.imageURL)}),r.a.createElement("p",null,"Name: ","".concat(c.name)),r.a.createElement("p",null,"Description: ","".concat(c.description)),r.a.createElement("p",null,"Gender: ","".concat(c.gender)),r.a.createElement("p",null,"Age: ","".concat(c.age)),r.a.createElement("p",null,"Breed: ","".concat(c.breed)),r.a.createElement("p",null,"".concat(c.name),"'s Story: ","".concat(c.story)),r.a.createElement("button",{disabled:t||o,onClick:function(e){e.preventDefault(),n("cat"),l()}},"Adopt Me!"))}}]),t}(n.Component);v.contextType=f;var E=v,g=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.context,t=e.waiting,a=e.dogs,n=e.handleAdoptAnimal,l=e.handleAdopted,o=e.adopted,c=a.first?a.first.data:{};return r.a.createElement("div",null,r.a.createElement("h3",null,"Dog"),r.a.createElement("img",{className:"picture",alt:"cute dog",src:"".concat(c.imageURL)}),r.a.createElement("p",null,"Name: ","".concat(c.name)),r.a.createElement("p",null,"Description: ","".concat(c.description)),r.a.createElement("p",null,"Gender: ","".concat(c.gender)),r.a.createElement("p",null,"Age: ","".concat(c.age)),r.a.createElement("p",null,"Breed: ","".concat(c.breed)),r.a.createElement("p",null,"".concat(c.name),"'s Story: ","".concat(c.story)),r.a.createElement("button",{disabled:t||o,onClick:function(e){e.preventDefault(),n("dog"),l()}},"Adopt Me!"))}}]),t}(n.Component);g.contextType=f;var b=g;function y(e){return e.message?r.a.createElement("div",null,r.a.createElement("span",{className:"error red"},e.message)):r.a.createElement(r.a.Fragment,null)}var j=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.context,t=e.name,a=e.setName,n=e.handleUpdatePeople,l=e.validateName,o=l();return r.a.createElement("form",null,t.touched&&r.a.createElement(y,{message:o}),r.a.createElement("label",{htmlFor:"name"},"Name:"),r.a.createElement("input",{type:"text",name:"name",id:"name",value:t.value,onChange:function(e){return a(e.target.value)}}),r.a.createElement("button",{type:"submit",disabled:l(),onClick:function(e){e.preventDefault(),n(t.value),t.value="",t.touched=!1}},"Submit"))}}]),t}(n.Component);j.contextType=f;var O=j,P=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.interval=setInterval(this.context.peoplePush,5e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"render",value:function(){var e=this.context.people;return r.a.createElement("div",null,r.a.createElement("p",null,"Thanks For Choosing to Adopt Today!"),r.a.createElement("p",null,"Serving Next: ","".concat(e.all())))}}]),t}(n.Component);P.contextType=f;var w=P,x=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.context,t=e.waiting,a=e.submitted,l=e.adopted,o=e.animalAdopted;return r.a.createElement(n.Fragment,null,r.a.createElement("h1",null,"Petful - Adopt!"),r.a.createElement("h2",null,"Creating Happy Pet Families since 2020"),r.a.createElement("p",null,"Enter your name here and you'll be placed in a queue! After that, you'll have to wait your turn before selecting your next pet!"),r.a.createElement(O,null),a&&t||l?r.a.createElement(w,null):null,t||l?null:r.a.createElement("p",null,"It's your turn!  You can now adopt!"),l?r.a.createElement("p",null,"you adopted ",o,"!"):null,r.a.createElement("div",{className:"pet-container"},r.a.createElement(E,null),r.a.createElement(b,null)))}}]),t}(n.Component);x.contextType=f;var A=x,k=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).state={error:null},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return this.state.error?r.a.createElement("main",{className:"error-page"},r.a.createElement("h1",null,this.state.error),r.a.createElement("h1",null,"Something seems to have gone wrong!"),r.a.createElement("p",null,"Try refreshing the page or returning to HOME"),r.a.createElement(p.b,{to:"/"},r.a.createElement("i",{className:"fas fa-home"})," Home")):this.props.children}}],[{key:"getDerivedStateFormError",value:function(e){return e}}]),t}(n.Component),N="https://secret-springs-25473.herokuapp.com",S={getPets:function(){var e;return fetch("".concat(N,"/pets"),{method:"GET",headers:{}}).then((function(t){return t.ok||(e={code:t.status}),t.json()})).then((function(t){return e?(e.message=t.message,Promise.reject(e)):t}))},deletePet:function(e){var t;return fetch("".concat(N,"/pets/").concat(e),{method:"DELETE",headers:{}}).then((function(e){return e.ok||(t={code:e.status}),e.json()})).then((function(e){return t?(t.message=e.message,Promise.reject(t)):e}))},getPeople:function(){var e;return fetch("".concat(N,"/people"),{method:"GET",headers:{}}).then((function(t){return t.ok||(e={code:t.status}),t.json()})).then((function(t){return e?(e.message=t.message,Promise.reject(e)):t}))},postPerson:function(e){return fetch("".concat(N,"/people"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({name:e})}).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))}))},deletePerson:function(){return fetch("".concat(N,"/people"),{method:"DELETE",headers:{}}).then((function(e){return e}))},deleteCat:function(){return fetch("".concat(N,"/pets/cat"),{method:"DELETE",headers:{}}).then((function(e){return e}))},deleteDog:function(){return fetch("".concat(N,"/pets/dog"),{method:"DELETE",headers:{}}).then((function(e){return e}))}},q=function e(t,a,n){Object(c.a)(this,e),this.data=t,this.next=a,this.previous=n},C=function(){function e(){Object(c.a)(this,e),this.first=null,this.last=null}return Object(s.a)(e,[{key:"enqueue",value:function(e){var t=new q(e,null);null===this.first&&(this.first=t),this.last&&(this.last.next=t),this.last=t}},{key:"dequeue",value:function(){if(null!==this.first){var e=this.first;return this.first=this.first.next,e===this.last&&(this.last=null),e.data}}},{key:"show",value:function(){return this.first}},{key:"all",value:function(){for(var e=this.first,t=[];e;)t.push(e.data),e=e.next;return t.join(", ")}}]),e}(),D=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).state={cats:new C,dogs:new C,people:new C,animalAdopted:"",submitted:!1,waiting:!0,adopted:!1,savedName:"",na:{value:"",touched:!1}},a.setName=function(e){a.setState({na:{value:e,touched:!0}})},a.validateName=function(){if(!a.state.na.value)return"name is required"},a.handleUpdatePeople=function(e){S.postPerson(e).then((function(e){var t=e.first,n=new C;n.enqueue(t.data);for(var r=t.next;r;)n.enqueue(r.data),r=r.next;a.setState({people:n})})),a.setState({waiting:!0,submitted:!0,savedName:e})},a.addPeople=function(e){S.postPerson(e).then((function(e){var t=e.first,n=new C;n.enqueue(t.data);for(var r=t.next;r;)n.enqueue(r.data),r=r.next;a.setState({people:n})}))},a.handleWaiting=function(){a.setState({waiting:!1}),a.setState({savedName:""})},a.handleAdopted=function(){a.setState({adopted:!0})},a.peoplePush=function(){a.state.people.first.data!==a.state.savedName?a.handleDeletePerson():a.handleWaiting()},a.handleDeletePerson=function(){S.deletePerson();var e=a.state.people.show();e=e.data,a.state.people.enqueue(a.state.people.dequeue());var t=a.state.people;if(a.setState({people:t}),1===Math.floor(2*Math.random())+1){S.deleteCat(),a.state.cats.enqueue(a.state.cats.dequeue());var n=a.state.cats;a.setState({cats:n})}else{S.deleteDog(),a.state.dogs.enqueue(a.state.dogs.dequeue());var r=a.state.dogs;a.setState({dogs:r})}e!==a.state.savedName&&a.addPeople(e)},a.handleAdoptAnimal=function(e){if("cat"===e){S.deleteCat();var t=a.state.cats.show();t=t.data.name,a.setState({animalAdopted:t}),a.state.cats.dequeue();var n=a.state.cats;a.setState({cats:n})}else{S.deleteDog(),a.state.dogs.dequeue();var r=a.state.dogs;a.setState({dogs:r})}},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;S.getPets().then((function(t){var a=t.cats.first,n=new C;n.enqueue(a.data);for(var r=a.next;r;)n.enqueue(r.data),r=r.next;e.setState({cats:n});var l=t.dogs.first,o=new C;o.enqueue(l.data);for(var c=l.next;c;)o.enqueue(c.data),c=c.next;e.setState({dogs:o})})),S.getPeople().then((function(t){if(t.first){var a=t.first,n=new C;n.enqueue(a.data);for(var r=a.next;r;)n.enqueue(r.data),r=r.next;e.setState({people:n,na:{value:"",touched:!1}})}else{var l=new C;e.setState({people:l,na:{value:"",touched:!1}})}}))}},{key:"render",value:function(){return r.a.createElement(f.Provider,{value:{cats:this.state.cats,dogs:this.state.dogs,people:this.state.people,name:this.state.na,submitted:this.state.submitted,waiting:this.state.waiting,savedName:this.state.savedName,adopted:this.state.adopted,animalAdopted:this.state.animalAdopted,validateName:this.validateName,setName:this.setName,handleUpdatePeople:this.handleUpdatePeople,peoplePush:this.peoplePush,handleWaiting:this.handleWaiting,handleAdoptAnimal:this.handleAdoptAnimal,handleDeletePerson:this.handleDeletePerson,handleAdopted:this.handleAdopted,addPeople:this.addPeople}},r.a.createElement(n.Fragment,null,r.a.createElement("main",null,r.a.createElement(p.a,null,r.a.createElement(k,null,r.a.createElement(h.c,null,r.a.createElement(h.a,{exact:!0,path:"/",component:m}),r.a.createElement(h.a,{exact:!0,path:"/adopt",component:A})))))))}}]),t}(n.Component);o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(D,null)),document.getElementById("root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.c869bb1a.chunk.js.map